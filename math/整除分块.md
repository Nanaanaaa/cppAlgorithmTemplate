```CPP
i64 ans = 0;
for (int i = 1, j; i <= n; i = j + 1) {
    j = n / (n / i);
    ans += i64(n / i) * (j - i + 1);
}
```

